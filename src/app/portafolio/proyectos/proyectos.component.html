<section class="py-[5rem]  xd4 h-fit" id="proyectos">
  <div class="py-6 w-full flex flex-col justify-center items-center">
    <h2 class="font-semibold text-[2.5rem]">Proyectos</h2>
    <span class="into">proyectos hechos</span>
</div>
<div class="carousel-container mx-auto" (touchstart)="onTouchMove($event)">
    <p-carousel 
        [value]="products" 
        [numVisible]="1" 
        [numScroll]="1" 
        [circular]="true" 
        [responsiveOptions]="responsiveOptions" 
        autoplayInterval="6000"
        >
        
        <ng-template let-product pTemplate="item">
            <div class="  responsive-flex  carousel-item border-1 surface-border border-round m-2 p-3 shadow-2 flex gap-5 w-full justify-center ">
                <div class="mb-3 flex-1 imgPro">
                    <div class="relative mx-auto rounded-2xl overflow-hidden" (click)="showImageDialog(product.subImg)">
                        <img 
                        [ngSrc]="product.image"
                        [alt]="product.name"
                        width='1920' height='1040'
                        [style.width]="'100%'"
                        [style.height]="'auto'"
                        class="w-full border-round cursor-pointer object-cover max-h-96"
                        priority
                        />
                      </div>
                </div>
               <div class="flex-1 mt-4">
                <div class="mb-3 font-medium ">
                  <h2 class="font-bold text-[1.5rem]">{{ product.name }}</h2>
              </div>
              <div class="flex justify-content-between align-items-center flex-col gap-3">
                <p class="description" [class.dark]="isDark()"> {{ product.description }}</p>
                <div class="mt-0 font-semibold text-xl flex items-center w-full gap-3">
                    <span *ngFor="let tech of product.tecnologia">
                      <img [src]="'assets/' + tech.toLowerCase() + getIconFormat(tech)"
                           [alt]="tech"
                           pTooltip="{{ tech }}"
                           tooltipPosition="right"
                           width="45"
                           height="45"
                           class="object-cover"  loading="lazy" />
                    </span>
                  </div>
                  <div class="flex items-center gap-4">
                    <span class="op" [class.dark]="isDark()">
                      Optimizaci√≥n del tiempo <br> de carga en un 40%.
                    </span>
                  </div>
                  <div class=" flex gap-3">
                     @if(product.demo !== 'no'){
                        <a  href={{product.urlPage}}  target="_blank" rel="noopener noreferrer"  class=" mt-3  !flex-1 custom-button p-button ripple-effect press-button w-full  sm:w-fit sm:!flex-none" (click)="eventos.onRippleEffect($event)">
                            <span class="button-text text-center sm:text-left w-full flex items-center p-proyecto justify-center"> Ver Demo <i class="pi pi-arrow-right arrow-icon"></i></span>
                            <span class="hover-overlay"></span>
                          </a>
                     }

                    <p-button (onClick)="showDialog(product.name,product.sMasInfo)" >
                      <a target="_blank" rel="noopener noreferrer"  class=" mt-3 custom-button p-proyecto !flex-1 ripple-effect press-button w-full  sm:w-fit" (click)="eventos.onRippleEffect($event)">
                        <span class="button-text text-center sm:text-left w-full flex items-center justify-center">Mas Info <i class="pi pi-arrow-right arrow-icon"></i></span>
                        <span class="hover-overlay"></span>
                      </a>
                    </p-button>
                  </div>
                  <span>
                      <p-button icon="pi pi-heart" severity="secondary" [outlined]="true" />
                  </span>
              </div>
               </div>
            </div>
        </ng-template>
    </p-carousel>
</div>
</section>                      
<p-dialog [(visible)]="displayImageDialog" [modal]="true" [dismissableMask]="true" [style]="{width: '80vw'}" [resizable]="false" [closable]="true">
    <ng-template pTemplate="content">
      <img [src]="selectedImage" [alt]="selectedImage" class="w-full h-auto object-cover" loading="lazy"/>
    </ng-template>
  </p-dialog>
  <p-dialog 
  [header]="dialogData"
  [(visible)]="visible" 
  [modal]="true" 
  [breakpoints]="{ '1199px': '75vw', '575px': '90vw' }" 
  [style]="{ width: '50vw' }" 
  [draggable]="false" 
  [resizable]="false">
      <p>
       {{dialogDataParrafo}}
      </p>
</p-dialog>